## 02/04/2025: CVE-2025-1385 Remote code execution in ClickHouse Library Bridge {#CVE-2025-1385}

CVE ID: CVE-2025-1385

CVE link: <https://nvd.nist.gov/vuln/detail/CVE-2025-1385>

### Original report {#original-report}

<https://github.com/ClickHouse/ClickHouse/security/advisories/GHSA-5phv-x8x4-83x5>

### Summary {#brief-description}

A vulnerability in ClickHouse made it possible to run code remotely with the Library Bridge feature enabled. The `clickhouse-library-bridge` feature exposed an HTTP API on `localhost`, allowing `clickhouse-server` to dynamically load libraries from specific paths and run them in an isolated process. If used together with the ClickHouse table engine which allows file uploads to certain directories, servers with misconfigured settings could be exploited by attackers if they had access to table engines allowing them to run any code on the ClickHouse server.

### Compromised technologies {#technologies-affected}

ClickHouse

### Vulnerable products and versions {#vulnerable-products-and-versions}

* ClickHouse below version 24.3.18.6

* ClickHouse below version 24.8.14.27

* ClickHouse below version 24.11.5.34

* ClickHouse below version 24.12.5.65

* ClickHouse below version 25.1.5.5

### Developer {#vendor}

ClickHouse, Inc.

### Attack vector and severity level as per CVSS v.3.0 {#attack-vector-and-severity-level}

Not assigned.

### Recommendations for vulnerability detection and supporting materials {#recommendations-for-vulnerability-detection}

To check if you ClickHouse server is vulnerable, check the configuration file and make sure the following setting is enabled:

```
<library_bridge>
   <port>9019</port>
</library_bridge>
```

### Safe version of vulnerable product or patch {#safe-version}

The vulnerability has been fixed in the following versions:

 * 24.3.18.6

 * 24.8.14.27

 * 24.11.5.34

 * 24.12.5.65

 * 25.1.5.5
 
### Impact on {{ yandex-cloud }} services {#impact-on-yandex-cloud-services}
 
{{ mch-full-name }} is updated to versions with the vulnerability fixed. No user action is required.

When using ClickHouse on your own VMs in {{ yandex-cloud }}, no additional end user actions are required, as the vulnerability is already fixed in the new image versions. 
