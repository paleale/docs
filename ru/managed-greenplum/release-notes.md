---
title: История изменений в {{ mgp-full-name }}
description: В разделе представлена история изменений сервиса {{ mgp-name }}.
---

# История изменений в {{ mgp-full-name }}

## Октябрь 2024 {#oct-2024}

* Значение настройки [Log statement](concepts/settings-list.md#setting-log-statement) по умолчанию изменено с `ALL` на `DDL` — в лог {{ GP }} записываются только команды SQL, которые изменяют определения структур данных (`CREATE`, `ALTER`, `DROP` и т. п.).
* Введен новый лимит на объем памяти на каждый процесс {{ GP }}. Лимит рассчитывается по формуле `<объем RAM на хосте-сегменте> ÷ (<значение настройки Max connections> × <количество сегментов на хост>)`.

## Сентябрь 2024 {#sep-2024}

* {{ mgp-name }} стал доступен в [регионе](../overview/concepts/region.md) Казахстан.

* На вкладке ![monitoring.svg](../_assets/console-icons/display-pulse.svg) **{{ ui-key.yacloud.common.monitoring }}** в консоли управления добавлены разделы **{{ ui-key.yacloud.mdb.cluster.switch_network }}** и **{{ ui-key.yacloud.greenplum.cluster.pxf.value_pxf }}** с графиками соответствующих метрик. Подробнее см. в разделе [Мониторинг состояния кластера и хостов](operations/monitoring.md).


* В настройках кластера стала доступна опция **{{ ui-key.yacloud.mdb.forms.additional-field-yandex-query_ru }}** — она разрешает выполнять YQL-запросы из сервиса [{{ yq-full-name }}](../query/concepts/index.md) к базе данных {{ mgp-name }}.


## Июнь 2024 {#jun-2024}

Добавлена возможность [создавать внешние источники данных](operations/index.md#pxf) S3, JDBC, HDFS и Hive для работы с внешними таблицами.

## Февраль 2024 {#feb-2024}

Появилась возможность частичного [восстановления кластера](./operations/cluster-backups.md#restore) из резервной копии: вы можете указать список восстанавливаемых баз или таблиц. Это позволяет существенно ускорить восстановление и сэкономить на ресурсах кластера, если данных восстанавливается немного.

## Январь 2024 {#jan-2024}

* Доступна новая версия {{ GP }} 6.25. В ней по умолчанию доступны инструменты [интеграции с холодным хранилищем](tutorials/yezzey.md) и [командный центр](./concepts/command-center.md).
* Добавлена возможность самостоятельной [настройки протокола PXF](operations/pxf/settings.md) для работы с внешними таблицами. Раньше за настройкой PXF пользователям приходилось обращаться в поддержку.

## III квартал 2023 {#q3-2023}

* Добавлена поддержка [инкрементных резервных копий](concepts/backup.md).
* Добавлена возможность [резервирования](../billing/concepts/cvos.md) определенного объема ресурсов. Получить скидку до 22% могут все пользователи платформы с 1 августа 2023 года. Стоимость ресурсов не изменится на протяжении всего срока действия предложения.
* Добавлены [метрики PXF](metrics.md#managed-greenplum-pxf-metrics) в {{ monitoring-full-name }}.
* Добавлены логи PXF и менеджера подключений Odyssey.
* Добавлены [аудитные логи](at-ref.md) в сервисе {{ at-full-name }}.

## II квартал 2023 {#q2-2023}

* Добавлена возможность восстановления резервной копии на любой момент времени (Point-in-Time-Recovery). Для новых кластеров функциональность включена по умолчанию.
* При восстановлении кластера теперь можно выбрать количество хостов и сегментов.
* Версия PXF обновлена до 6.6.0.
* В логи добавлены события по протоколу PXF.

## IV квартал 2022 {#q4-2022}

* Добавлена возможность [расширения кластера](operations/cluster-expand.md) через CLI и API с добавлением новых хостов-сегментов и перераспределением данных по всем сегментам.
* Добавлена возможность просмотра резервных копий кластера, восстановления из них, а также изменения публичного доступа к кластеру через CLI. Подробнее см. в разделе [Релизы YC CLI](../cli/release-notes.md#version0.100.0).
* Добавлена функция `mdb_toolkit.table_privileges()`, позволяющая пользователю с ролью `mdb_admin` просматривать историю выдачи и отзыва привилегий в кластере. Подробнее см. в [документации {{ PG }}]({{ pg.docs.org }}/current/infoschema-table-privileges.html).
* Добавлена функция `mdb_toolkit.gp_workfile_usage_per_query()`, позволяющая пользователю с ролью `mdb_admin` просматривать информацию об активных запросах всех пользователей. Подробнее см. в [документации {{ GP }}]({{ gp.docs.vmware }}/7/greenplum-database/ref_guide-gp_toolkit.html#topic34).
* Доработан алгоритм создания кластера с помощью визарда:
    * Размер кластера не может быть больше, чем `<максимальное_количество_хостов> × <максимальный_размер_диска_для_хоста>`.
    * Можно выбрать группу выделенных хостов, на которой будет создан кластер.
    * Если указан большой объем данных, визард предложит создать кластер на выделенных хостах.

## III квартал 2022 {#q3-2022}

* Добавлена возможность менять пароль для пользователя-администратора.
* Добавлена возможность [настройки СУБД и менеджера подключений в {{ TF }}](https://github.com/yandex-cloud/terraform-provider-yandex/blob/master/CHANGELOG.md#0770-july-27-2022).
* Добавлена поддержка расширения [postgis]({{gp.docs.vmware}}/5/greenplum-database/ref_guide-extensions-postGIS.html).
* Добавлена возможность редактирования кластера и его параметров через CLI, а также возможность разрешения доступа из {{ data-transfer-full-name }}. Подробнее см. в разделе [Релизы CLI](../cli/release-notes.md#version0.94.0).
* Обновлен механизм переключения мастера: бывший мастер возвращается в кластер как реплика и становится доступным для нового переключения сразу после завершения первого.
* Добавлена функция `gp_cancel_backend` для принудительного завершения пользовательского запроса.
* Добавлена функция `gp_terminate_backend` для принудительного завершения пользовательского соединения с БД.
* Добавлена возможность расширения кластера новыми хостами-сегментами через [API](../glossary/rest-api.md) с перераспределением данных по всем сегментам.

## II квартал 2022 {#q2-2022}

* Добавлена поддержка CLI: доступны команды `{{ yc-mdb-gp }} cluster` и `{{ yc-mdb-gp }} hosts`.
* Добавлена возможность миграции базы данных из/в {{ mgp-name }} с помощью сервиса {{ data-transfer-full-name }}. Доступные приемники и источники приведены в [документации](../data-transfer/concepts/index.md#connectivity-matrix). Функциональность находится в стадии [Preview](../overview/concepts/launch-stages.md).
* Добавлена поддержка расширения [pgcrypto]({{ gp.docs.vmware }}/7/greenplum-database/ref_guide-modules-pgcrypto.html).
* [Оптимизировано](https://github.com/wal-g/wal-g/pull/1257) создание резервных копий за счет особой обработки append-only сегментов.
* Добавлен модуль [diskquota]({{ gp.docs.vmware }}/7/greenplum-database/ref_guide-modules-diskquota.html), который позволяет ограничивать схемы БД по месту на диске.
* Реализовано автоматическое переключение на резервный мастер через [gpactivatestandby]({{ gp.docs.vmware }}/7/greenplum-database/utility_guide-ref-gpactivatestandby.html).
* Добавлены настройки `max_statement_mem` и `log_statement`, доступные при создании и изменении кластера.
* Добавлена возможность создавать кластер с нечетным количеством сегментов.
* Минимальный размер хранилища на сетевых SSD-дисках для мастер-хоста ограничен 100 ГБ.
* Оптимизирован процесс очистки (`VACUUM`):
  * операция выполняется параллельно по нескольким базам;
  * новые таблицы обрабатываются последними;
  * таблицы с активными блокировками исключаются.

## I квартал 2022 {#q1-2022}

* {{ mgp-full-name }} перешел в общий доступ. Теперь для него действует [соглашение об уровне обслуживания]({{ link-sla-greenplum }}) (SLA) и [правила тарификации](pricing/index.md).
* Добавлен [калькулятор](/promo/dwh-calculator/index) для расчета рекомендуемой конфигурации и оценки стоимости кластера.
* Доступна новая версия {{ GP }} 6.19 с исправлением известных ошибок. 
* Добавлена возможность скрывать содержимое внешних таблиц (external tables). 
* Добавлена возможность изменения размера хранилища, в том числе для локальных SSD-дисков.
* Добавлены [конфигурации](concepts/instance-types.md) `io-optimized` с увеличенным соотношением количества гигабайт RAM к количеству vCPU (8:1).

{% include [greenplum-trademark](../_includes/mdb/mgp/trademark.md) %}
