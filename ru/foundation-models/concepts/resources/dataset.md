---
title: Что такое датасет в {{ foundation-models-full-name }}
description: Из этой статьи вы узнаете, что такое датасеты в {{ foundation-models-name }} и как они используются для дообучения моделей.
---

# Датасеты

Датасеты в {{ foundation-models-full-name }} хранят наборы данных для [дообучения](../tuning/index.md) моделей. Датасеты можно создавать в консоли управления, через API и [{{ ml-sdk-full-name }}](../../sdk/index.md).

Все датасеты создаются на основе файлов в формате [JSON Lines](https://jsonlines.org/) в кодировке [UTF-8](https://{{ lang }}.wikipedia.org/wiki/UTF-8). Формат содержимого датасета зависит от его типа. Вы можете создать датасеты следующих типов:

* Генерация текста — `TextToTextGeneration`.
* Классификация с несколькими метками — `TextClassificationMultilabel`.
* Бинарная и многоклассовая классификация — `TextClassificationMulticlass`.
* Пары для дообучения эмбеддингов — `TextEmbeddingPairParams`.
* Триплеты для дообучения эмбеддингов — `TextEmbeddingTripletParams`.

## Датасеты для генерации текста {#generating}

Датасеты для генерации текста содержат инструкцию, пример вопроса и ответа на него. Каждая строка содержит отдельный пример в формате JSON:

```json
{"request": [{"role": "system", "text": "<инструкция>"}, {"role": "user", "text": "<Вопрос>"}], "response": "<Ответ>"}
{"request": [{"role": "system", "text": "<инструкция>"}, {"role": "user", "text": "<Вопрос>"}], "response": "<Ответ>"}
{"request": [{"role": "system", "text": "<инструкция>"}, {"role": "user", "text": "<Вопрос>"}], "response": "<Ответ>"}
```

Датасеты для генерации текстов понадобятся, если вы дообучаете [модели](../yandexgpt/models.md) {{ gpt-lite }} и {{ llama }} 8B^1^. Чтобы дообучить модель генерации текста, подготовьте файл, содержащий примеры как минимум 10 запросов и эталонных ответов. Максимальная длина запроса — 8 000 [токенов](../yandexgpt/tokens.md), максимальная длина эталонного ответа — 2 000 токенов. Длина запроса и ответа не должна превышать 8 000 токенов.

Пример наполнения датасета для дообучения модели генерации текста:

{% include [fine-tuning-file-requirements](../../../_includes/datasphere/fine-tuning-file-requirements.md) %}

## Датасеты для классификации текста {#classifier}

При создании датасетов для классификации текста старайтесь давать классам значащие имена. 

При дообучении модели классификатора на базе {{ yagpt-name }} действуют следующие ограничения:

| Вид ограничения | Минимальное значение | Максимальное значение |
|---|---|---|
| Количество примеров в датасете | 100 | 50 000 |
| Количество классов | 1 | 100 |
| Количество примеров для одного класса в датасете| 1 | — |
| Длина имени класса в символах | — | 100 |
| Количество [токенов](../yandexgpt/tokens.md) в тексте классифицируемого запроса | — | 8 000 |

Рекомендуется дообучать модели на датасетах, содержащих не менее 1 000 примеров и не менее 100 примеров для каждого класса.

### Бинарная и многоклассовая классификация {#multiclass}

Датасеты для многоклассовой и бинарной классификации должны содержать примеры текстов и их принадлежности к классам. Каждая строка содержит отдельный пример в формате JSON. Каждый пример может быть отнесен только к одному классу.

```json
{"text":"<текст_1>","<класс_1>":0,"<класс_2>":0,"<класс_3>":1}
{"text":"<текст_2>","<класс_1>":1,"<класс_2>":0,"<класс_3>":0}
{"text":"<текст_3>","<класс_1>":0,"<класс_2>":1,"<класс_3>":0}
{"text":"<текст_4>","<класс_1>":0,"<класс_2>":0,"<класс_3>":1}
```

{% include [binary](../../../_includes/foundation-models/classifier/binary-example.md) %}

{% include [multiclass](../../../_includes/foundation-models/classifier/multiclass-example.md) %}

### Классификация с несколькими метками {#multilable}

Датасеты для классификации с несколькими метками должны содержать примеры текстов и их принадлежности к классам, при этом каждый текст может относиться одновременно к нескольким классам. Каждая строка датасета содержит отдельный пример в формате JSON.

```json
{"text":"<текст_1>","<класс_1>":0,"<класс_2>":0,"<класс_3>":1}
{"text":"<текст_2>","<класс_1>":1,"<класс_2>":0,"<класс_3>":1}
{"text":"<текст_3>","<класс_1>":1,"<класс_2>":1,"<класс_3>":0}
```

{% include [multiclass](../../../_includes/foundation-models/classifier/multilable-example.md) %}


^1^ {{ meta-disclaimer }}

#### См. также {#see-also}

* [{#T}](../../operations/resources/create-dataset-gpt.md)
* [{#T}](../../operations/resources/create-dataset-classifier.md)
* [{#T}](../../operations/tuning/create.md)
* [{#T}](../../operations/tuning/tune-classifiers.md)
* [{#T}](../../tutorials/models-fine-tuning.md)